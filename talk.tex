\documentclass[aspectratio=169]{beamer}

\makeatletter
\appto\input@path{{libs/awesome-beamer}, {libs/smile}}
\makeatother

\usepackage{fontspec}
\setmonofont[
	Path = ./libs/awesome-beamer/fonts/,
	Scale = .9,
	Extension = .ttf,
	Contextuals=Alternate,
	BoldFont={*-Bold},
	UprightFont={*-Regular},
]{Fira Code}
\renewcommand\setmonofont[2][]{}

\usepackage{firamath-otf}
\usepackage{pgfplots}
\usepackage{pgfplotstable}

\definecolor{forest}{HTML}{1a4301}

\usetheme[english, color, coloraccent=forest]{awesome}

\addbibresource{refs.bib}

\addtobeamertemplate{title page}{}{
\begin{tikzpicture}[overlay, remember picture]
	\node[anchor=south east,outer sep=0pt] at (current page.south east) {\fontsize{3}{3}\selectfont\color{white}This image was generated by AI};
\end{tikzpicture}
}

\pgfplotsset{
	every axis legend/.append style={style={roundednode,fill=accent!10,lcr}},
	every axis plot/.append style={lw,lcr},
}

\title[Renewable Energies: Hydrogen]{Renewable Energies}
\subtitle{Hydrogen}
\author{Lukas Pietzschmann}
\email{lukas.pietzschmann@uni-ulm.de}
\institute{Center for General Scientific Education}
\uni{Ulm University}
\location{Ulm}
\background{background.jpg}
\date\today

\begin{document}
\maketitle

\section{Why we need Hydrogen}
\begin{frame}
	\frametitle[\cite{tempdata,lenssen2019}]{Global Warming}
	\pgfplotsset{width=\textwidth, height=.7\textheight, compat=1.18}
	\pgfplotstableread[col sep=comma,]{temps.csv}\temps
	\begin{wide}
		\href{https://data.giss.nasa.gov/gistemp/graphs_v4}{\begin{tikzpicture}
			\begin{axis}[axis background/.style={fill=accent!3},
					ylabel=Temperature Anomaly ($^\circ C$), axis line style={lw,rounded corners},
					xticklabel={\pgfmathint{\tick}\pgfmathresult},
					legend style={
						font=\scriptsize,
						cells={anchor=west},
						legend pos=north west,
					},
				]
				\addplot[color=accent, smooth] table [x=Year,y=NoSmoothing,col sep=comma]{\temps};
				\addlegendentry{Annual Mean}
				\addplot[color=red, smooth] table [x=Year,y=Lowess,col sep=comma]{\temps};
				\addlegendentry{Lowess Smoothing}
			\end{axis}
		\end{tikzpicture}}
	\end{wide}
\end{frame}

\begin{frame}
	\frametitle[\cite{ritchie2020}]{Energy consumption by source}
	\pgfplotsset{width=\textwidth, height=.7\textheight, compat=1.18}
	\pgfplotstableread[col sep=comma,]{energy.csv}\energy
	\begin{wide}
		\href{https://ourworldindata.org/energy-mix}{\begin{tikzpicture}
			\begin{axis}[axis background/.style={fill=accent!3},
					ylabel=Evergy Consumption (TWh), axis line style={lw,rounded corners},
					xticklabel={\pgfmathint{\tick}\pgfmathresult},
					legend style={
						font=\scriptsize,
						cells={anchor=west},
						legend pos=north west,
					},
					stack plots=y
				]
				\addplot[color=green, smooth] table [x=year,y=other,col sep=comma]{\energy};
				\addlegendentry{Other}
				% \addplot[color=brown, smooth] table [x=year,y=bio,col sep=comma]{\energy};
				% \addlegendentry{Biofuels}
				\addplot[color=yellow, smooth] table [x=year,y=solar,col sep=comma]{\energy};
				\addlegendentry{Solar}
				\addplot[color=blue, smooth] table [x=year,y=wind,col sep=comma]{\energy};
				\addlegendentry{Wind}
				\addplot[color=cyan, smooth] table [x=year,y=hydro,col sep=comma]{\energy};
				\addlegendentry{Hydropower}
				\addplot[color=red, smooth] table [x=year,y=nuclear,col sep=comma]{\energy};
				\addlegendentry{Nuclear}
				\addplot[color=violet, smooth] table [x=year,y=gas,col sep=comma]{\energy};
				\addlegendentry{Gas}
				\addplot[color=teal, smooth] table [x=year,y=oil,col sep=comma]{\energy};
				\addlegendentry{Oil}
				\addplot[color=orange, smooth] table [x=year,y=coal,col sep=comma]{\energy};
				\addlegendentry{Coal}
				% \addplot[color=darkmaroon, smooth] table [x=year,y=bio,col sep=comma]{\energy};
				% \addlegendentry{Biomass}
			\end{axis}
		\end{tikzpicture}}
	\end{wide}
\end{frame}

\begin{frame}
	\frametitle{References}
	\printbibliography
\end{frame}
\end{document}
